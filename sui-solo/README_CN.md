<div align="center">

# ğŸš€ SUI Solo

**åˆ†å¸ƒå¼ä»£ç†é›†ç¾¤ç®¡ç†ç³»ç»Ÿ**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Docker](https://img.shields.io/badge/Docker-Required-blue?logo=docker)](https://www.docker.com/)
[![Python](https://img.shields.io/badge/Python-3.11+-green?logo=python)](https://www.python.org/)

[English](README.md) | [ç®€ä½“ä¸­æ–‡](README_CN.md)

</div>

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker 20.10+ (å« Docker Compose)
- **Master å¿…é¡»æœ‰åŸŸå** (ç”¨äº HTTPS å®‰å…¨)
- æ¯ä¸ª Node éœ€è¦åŸŸå
- ç«¯å£: 80, 443 (Master å’Œ Node), 53 (ä»… Node)

### å®‰è£…ä¸»æ§ (Master)

```bash
git clone https://github.com/yourusername/sui-solo.git
cd sui-solo
sudo ./install.sh --master
```

å®‰è£…æ—¶éœ€è¦è¾“å…¥:
1. **Master åŸŸå** (å¦‚ `panel.example.com`) - HTTPS å¿…éœ€!
2. **é‚®ç®±** ç”¨äº SSL è¯ä¹¦

> ğŸ“ **åŠ¡å¿…ä¿å­˜å®‰è£…åæ˜¾ç¤ºçš„ Cluster Secretï¼**

### å®‰è£…èŠ‚ç‚¹ (Node)

```bash
sudo ./install.sh --node
# è¾“å…¥: Cluster Secretã€èŠ‚ç‚¹åŸŸåã€é‚®ç®±
```

### åœ¨ä¸»æ§æ·»åŠ èŠ‚ç‚¹

æ‰“å¼€ `https://ä½ çš„ä¸»æ§åŸŸå` â†’ ç‚¹å‡» **"+ Add Node"**

---

## ğŸ”’ å®‰å…¨æ¶æ„

### å…¨é“¾è·¯ HTTPS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸»æ§ MASTER (ä»… HTTPS)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   Caddy     â”‚ â”€â”€â”€â–¶ â”‚  Flask App  â”‚                       â”‚
â”‚  â”‚  (ç½‘å…³)     â”‚      â”‚  (å†…éƒ¨)     â”‚                       â”‚
â”‚  â”‚  :80/:443   â”‚      â”‚    :5000    â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    HTTPS + Token è®¤è¯
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      èŠ‚ç‚¹ NODE (ä»… HTTPS)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   Caddy     â”‚ â”€â”€â”€â–¶ â”‚   Agent     â”‚ â”€â”€â”€â–¶ Sing-box        â”‚
â”‚  â”‚  (ç½‘å…³)     â”‚      â”‚  (éšè—è·¯å¾„) â”‚ â”€â”€â”€â–¶ AdGuard         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸‰å±‚é˜²æŠ¤

```mermaid
flowchart LR
    A[1. HTTPS<br/>TLS åŠ å¯†] --> B[2. éšè—è·¯å¾„<br/>SHA256 åŠ ç›å“ˆå¸Œ]
    B --> C[3. Token è®¤è¯<br/>X-SUI-Token]
```

### åŠ ç›è·¯å¾„ç”Ÿæˆ

```python
SALT = "SUI_Solo_Secured_2024"

def get_hidden_path(token: str) -> str:
    combined = f"{SALT}:{token}"
    return hashlib.sha256(combined.encode()).hexdigest()[:16]

# API: /{16ä½å“ˆå¸Œ}/api/v1/status
```

**è®¾è®¡åŸç†ï¼š**
- **ç¡®å®šæ€§**: ç›¸åŒ Token = ä¸»æ§å’ŒèŠ‚ç‚¹è®¡ç®—å‡ºç›¸åŒè·¯å¾„
- **é˜²æ‰«æ**: æ²¡æœ‰ Token æ— æ³•æ¨ç®— URL
- **çºµæ·±é˜²å¾¡**: Caddy ä»…æ”¾è¡Œéšè—è·¯å¾„ï¼Œå…¶ä»–è¿”å›ä¼ªè£…é¡µ

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
sui-solo/
â”œâ”€â”€ install.sh              # äº¤äº’å¼å®‰è£…è„šæœ¬
â”œâ”€â”€ README.md / README_CN.md
â”œâ”€â”€ master/
â”‚   â”œâ”€â”€ docker-compose.yml  # Caddy + Flask
â”‚   â”œâ”€â”€ app.py              # Flask åç«¯
â”‚   â””â”€â”€ config/caddy/       # ç”Ÿæˆçš„ Caddyfile
â””â”€â”€ node/
    â”œâ”€â”€ docker-compose.yml  # Caddy + Agent + æœåŠ¡
    â”œâ”€â”€ agent.py            # èŠ‚ç‚¹æ§åˆ¶ API
    â””â”€â”€ templates/          # Caddyfile æ¨¡æ¿
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| SSL è¯ä¹¦é”™è¯¯ | ç¡®è®¤ DNS æŒ‡å‘æœåŠ¡å™¨ï¼Œ80 ç«¯å£å¯è®¿é—® |
| Token é”™è¯¯ | æ£€æŸ¥ `.env` ä¸­çš„å¯†é’¥æ˜¯å¦ä¸ Master ä¸€è‡´ |
| ç«¯å£è¢«å ç”¨ | `sudo lsof -i :80` æ‰¾å‡ºå ç”¨è¿›ç¨‹ |

---

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›**æ•™è‚²å’ŒæŠ€æœ¯ç ”ç©¶ç›®çš„**ã€‚ç”¨æˆ·å¿…é¡»éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ã€‚ä½œè€…ä¸å¯¹ä»»ä½•æ»¥ç”¨è¡Œä¸ºè´Ÿè´£ã€‚

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE)

---

<div align="center">
Made with â¤ï¸ for the open source community
</div>
